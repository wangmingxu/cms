angular.module("starter.controllers",[]).controller("navCtrl",function(t,e,a,o){$(document).on("click",".nav_item li",function(t){t.preventDefault(),$(".nav_item li").removeClass("active"),$(t.currentTarget).addClass("active")})}).controller("advPlanCtrl",function(t,e,a,o){var n=o+"getAdvPlan";Mock.mock(n,{"list|1-10":[{"id|+1":1,"status|1-4":4,planName:"20160621首焦1油品专题",resourceName:"PC首页焦点图1",startTime:"2016/06/21",stopTime:"不限","area|1":["中山","广州","佛山","珠海"],"youxianji|1-5":1}]}),e({method:"GET",url:n}).then(function(e,a,o,n){console.log(e.data),t.list=e.data.list},function(t,e,a,o){console.log(t)})}).controller("addPlanStep1Ctrl",function(t,e,a,o,n,i){window.cache&&console.log("存在缓存"),t.selectArea=function(){var a=o+"cms/showPlan/allRegion";e({method:"GET",url:a}).then(function(e,a,o,n){console.log(e.data),t.administration_area=e.data.model.provinceDTOList,t.service_area=e.data.model.serviceAreaVOList},function(t,e,a,o){console.log(t)})},t.toStep2=function(){window.cache?(cache.removeAll(),cache.put("name","lynn"),i.go("tab.planEntrance.addPlanStep2")):(window.cache=n("addPlan"),cache.put("name","mxu"),i.go("tab.planEntrance.addPlanStep2"))},t.select_item=function(e){t.administration_area[e].isSelect?t.administration_area[e].isSelect=!1:t.administration_area[e].isSelect=!0},t.checkSelectArea=function(e){if(t.administration_area[e].isSelect)return"area_name_active"},t.ensure_area=function(){console.log(t.service_area)}}).controller("addPlanStep2Ctrl",function(t,e,a,o,n,i){console.log(cache.get("name")),$("[data-toggle='popover']").popover(),t.modal1=function(){var a=o+"MaterialList";Mock.mock(a,{"list|6-10":[{"id|+1":1,picUrl:"img/defaultimg.png",materialName:"素材名素材名素素材名素材名..."}]}),e({method:"GET",url:a}).then(function(e,a,o,n){console.log(e.data),t.arr1=e.data.list},function(t,e,a,o){console.log(t)})},t.select_pic=function(e){t.arr1[e].isSelect?t.arr1[e].isSelect=!1:t.arr1[e].isSelect=!0},t.checkSelect=function(e){if(t.arr1[e].isSelect)return"material_item_active"},t.test1=function(){console.log(t.arr1)},t.modal3=function(){var a=o+"MaterialList";Mock.mock(a,{"list|1-10":[{"id|+1":1,"title|1":["注册与审核","用户登录","用户注册"],previewUrl:"https://www.baidu.com/img/baidu_jgylogo3.gif"}]}),e({method:"GET",url:a}).then(function(e,a,o,n){console.log(e.data),t.arr3=e.data.list},function(t,e,a,o){console.log(t)})},t.test3=function(){console.log(t.arr3)},t.back=function(){cache.destroy(),n.go("tab.planEntrance.addPlanStep1")}}).controller("uploadpicCtrl",function(t,e,a,o,n){t.picList=[],t.delPic=function(e){t.picList.splice(e,1)},t.$watch("picList",function(){t.restCount=6-t.picList.length},!0),t.upload=function(){for(var e=new FormData,a=0;a<t.picList.length;a++)e.append("file"+a,t.picList[a].file),e.append("materialNameList",t.picList[a].title);e.append("targetUrl",t.targetUrl);var o="http://192.168.17.9:8088/cms/material/upload/pictures";$.ajax({url:o,type:"POST",data:e,async:!1,cache:!1,contentType:!1,processData:!1}).done(function(){$("#uploadFinish").modal("show"),n(function(){$("#uploadFinish").modal("hide")},800)}).fail(function(){$("#uploadFail").modal("show"),n(function(){$("#uploadFail").modal("hide")},800)})}}).controller("createArticleCtrl",function(t,e,a,o){UE.getEditor("editor");t.getContent=function(){var t=[];t.push("使用editor.getContent()方法可以获得编辑器的内容"),t.push("内容为："),t.push(UE.getEditor("editor").getContent()),alert(t.join("\n"))}}).controller("advResourceCtrl",function(t,e,a,o){var n=o+"getAdvResource";Mock.mock(n,{"list|1-10":[{"id|+1":1,resourceName:"PC首页焦点图轮播",platform:"PC端",width:760,height:450,size:"128KB"}]}),e({method:"GET",url:n}).then(function(e,a,o,n){console.log(e.data),t.list=e.data.list},function(t,e,a,o){console.log(t)})});